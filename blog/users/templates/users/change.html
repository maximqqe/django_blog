{% extends 'base.html' %}

{% block content %}

<h1 class="text-center text-light fw-700">Change Profile</h1>
<form class="mt-2 text-center" style="width: 300px; margin: 10px auto;" enctype="multipart/form-data" method="POST">
    {% csrf_token %}

    {% if form.non_field_errors %}
    <div class="alert alert-danger" role="alert">
        {{ form.non_field_errors }}
    </div>
    {% endif %}

    <div class="form-group mb-3">
        <label for="username" class="text-light" style="font-size: 22px;">Username</label>
        <input type="text" value="{{request.user.username}}" class="form-control m-2" id="username" name="username"
               style="width:300px;">
    </div>
    {% if form.username.errors %}
    <div class="alert mt-2 mb-2 alert-danger alert-dismissible fade show">{{ form.username.errors }}</div>
    {% endif %}
    <div class="form-group mb-3">
        <label for="first_name" class="text-light" style="font-size: 22px; ">First Name</label>
        <input type="text" class="form-control m-2" value="{{request.user.first_name}}" id="first_name"
               name="first_name" style="width:300px;">
    </div>
    {% if form.first_name.errors %}
    <div class="alert mt-2 mb-2 alert-danger alert-dismissible fade show">{{ form.first_name.errors }}</div>
    {% endif %}
    <div class="form-group mb-3">
        <label for="last_name" class="text-light" style="font-size: 22px; ">Last Name</label>
        <input type="text" class="form-control m-2" value='{{request.user.last_name}}' id="last_name" name="last_name"
               style="width:300px;">
    </div>
    {% if form.last_name.errors %}
    <div class="alert mt-2 mb-2 alert-danger alert-dismissible fade show">{{ form.last_name.errors }}</div>
    {% endif %}

    <div class="form-group mb-3">
        <label for="email" class="text-light" style="font-size: 22px; ">Email</label>
        <input type="email" class="form-control m-2" value="{{request.user.email}}" id="email" name="email"
               style="width:300px;">
    </div>
    {% if form.email.errors %}
    <div class="alert mt-2 mb-2 alert-danger alert-dismissible fade show">{{ form.email.errors }}</div>
    {% endif %}
    <div class="form-group mb-3">
        <label for="image" class="text-light" style="font-size: 22px; ">Image</label>
        <input type="file" accept="image/*" class="form-control m-2" id="image" name="image" style="width:300px;">
    </div>
    {% if form.image.errors %}
    <div class="alert mt-2 mb-2 alert-danger alert-dismissible fade show">{{ form.image.errors }}</div>
    {% endif %}
    <button class="btn btn-success m-3" style="width: 100px;" type="submit" name="submit">Submit</button>
    <a class="btn btn-dark m-3" style="width: 100px;" href="{% url 'user:profile' request.user.pk %}">Discard</a>
</form>
</div>
{% endblock %}
